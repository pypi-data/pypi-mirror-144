(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36760726"],{"0cb2":function(e,t,a){var r=a("7b0b"),n=Math.floor,c="".replace,i=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,a,o,u,l){var d=a+e.length,f=o.length,b=s;return void 0!==u&&(u=r(u),b=i),c.call(l,b,(function(r,c){var i;switch(c.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,a);case"'":return t.slice(d);case"<":i=u[c.slice(1,-1)];break;default:var s=+c;if(0===s)return r;if(s>f){var l=n(s/10);return 0===l?r:l<=f?void 0===o[l-1]?c.charAt(1):o[l-1]+c.charAt(1):r}i=o[s-1]}return void 0===i?"":i}))}},"2ca0":function(e,t,a){"use strict";var r=a("23e7"),n=a("06cf").f,c=a("50c4"),i=a("5a34"),s=a("1d80"),o=a("ab13"),u=a("c430"),l="".startsWith,d=Math.min,f=o("startsWith"),b=!u&&!f&&!!function(){var e=n(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!b&&!f},{startsWith:function(e){var t=String(s(this));i(e);var a=c(d(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return l?l.call(t,r,a):t.slice(a,a+r.length)===r}})},"3fc7":function(e,t,a){"use strict";a("f43d")},4626:function(e,t,a){"use strict";a.r(t);a("b64b");var r=a("7a23"),n=Object(r["K"])("data-v-a0c26180");Object(r["u"])("data-v-a0c26180");var c={class:"camera"},i={class:"camera-selector"},s={class:"left"},o={key:0,selected:"",disabled:""},u={class:"right"},l=Object(r["h"])("i",{class:"fas fa-sync-alt",title:"Refresh cameras"},null,-1),d={class:"camera-container"},f={class:"frame-container",ref:"frameContainer"},b={key:0,class:"no-frame"},m={class:"frame",ref:"frame",alt:"",src:""},p={class:"controls"},h={class:"left"},g=Object(r["h"])("i",{class:"fa fa-play",title:"Start video"},null,-1),v=Object(r["h"])("i",{class:"fa fa-stop",title:"Stop video"},null,-1),O=Object(r["h"])("i",{class:"fas fa-camera",title:"Take a picture"},null,-1),j={class:"right"},y=Object(r["h"])("i",{class:"fas fa-retweet",title:"Flip camera"},null,-1),C=Object(r["h"])("i",{class:"fa fa-volume-mute",title:"Start audio"},null,-1),S=Object(r["h"])("i",{class:"fa fa-volume-up",title:"Stop audio"},null,-1),k={class:"sound-container"},w={key:0,autoplay:"",preload:"none",ref:"player"},x=Object(r["g"])(" Your browser does not support audio elements ");Object(r["s"])();var $=n((function(e,t,a,n,$,_){var A=Object(r["z"])("Loading");return Object(r["r"])(),Object(r["e"])("div",c,[$.loading?(Object(r["r"])(),Object(r["e"])(A,{key:0})):Object(r["f"])("",!0),Object(r["h"])("div",i,[Object(r["h"])("div",s,[Object(r["h"])("label",null,[Object(r["h"])("select",{ref:"cameraSelector",onChange:t[1]||(t[1]=function(){return _.onCameraSelected&&_.onCameraSelected.apply(_,arguments)})},[Object.keys($.cameras).length?Object(r["f"])("",!0):(Object(r["r"])(),Object(r["e"])("option",o,"-- No cameras available")),(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(Object.keys($.cameras),(function(e){return Object(r["r"])(),Object(r["e"])("option",{key:e,value:e,textContent:Object(r["C"])(e)},null,8,["value","textContent"])})),128))],544)])]),Object(r["h"])("div",u,[Object(r["h"])("button",{type:"button",onClick:t[2]||(t[2]=function(){return _.updateCameraStatus&&_.updateCameraStatus.apply(_,arguments)}),disabled:$.loading},[l],8,["disabled"])])]),Object(r["h"])("div",d,[Object(r["h"])("div",f,[$.streaming||$.capturing||$.captured?Object(r["f"])("",!0):(Object(r["r"])(),Object(r["e"])("div",b,"The camera is not active")),Object(r["h"])("img",m,null,512)],512),Object(r["h"])("div",p,[Object(r["h"])("div",h,[$.streaming?(Object(r["r"])(),Object(r["e"])("button",{key:1,type:"button",onClick:t[4]||(t[4]=function(){return _.stopStreaming&&_.stopStreaming.apply(_,arguments)}),disabled:$.capturing||$.loading},[v],8,["disabled"])):(Object(r["r"])(),Object(r["e"])("button",{key:0,type:"button",onClick:t[3]||(t[3]=function(){return _.startStreaming&&_.startStreaming.apply(_,arguments)}),disabled:$.capturing||$.loading},[g],8,["disabled"])),Object(r["h"])("button",{type:"button",onClick:t[5]||(t[5]=function(){return _.capture&&_.capture.apply(_,arguments)}),disabled:$.streaming||$.capturing||$.loading},[O],8,["disabled"])]),Object(r["h"])("div",j,[Object(r["h"])("button",{type:"button",onClick:t[6]||(t[6]=function(){return _.flipCamera&&_.flipCamera.apply(_,arguments)}),disabled:$.loading},[y],8,["disabled"]),$.recording?(Object(r["r"])(),Object(r["e"])("button",{key:1,type:"button",onClick:t[8]||(t[8]=function(e){return $.recording=!1}),disabled:$.loading},[S],8,["disabled"])):(Object(r["r"])(),Object(r["e"])("button",{key:0,type:"button",onClick:t[7]||(t[7]=function(e){return $.recording=!0}),disabled:$.loading},[C],8,["disabled"]))])])]),Object(r["h"])("div",k,[$.recording?(Object(r["r"])(),Object(r["e"])("audio",w,[Object(r["h"])("source",{src:$.cameras[$.selectedCamera].audio_url,type:"audio/x-wav;codec=pcm"},null,8,["src"]),x],512)):Object(r["f"])("",!0)])])})),_=a("1da1"),A=(a("96cf"),a("b0c0"),a("2ca0"),a("ac1f"),a("5319"),a("3e54")),I=a("3a5e"),L={name:"CameraAndroidIpcam",components:{Loading:I["a"]},mixins:[A["a"]],data:function(){return{loading:!1,streaming:!1,capturing:!1,recording:!1,captured:!1,cameras:{},selectedCamera:void 0}},computed:{config:function(){return this.$root.config["camera.android.ipcam"]}},methods:{startStreaming:function(){if(!this.streaming){var e=this.cameras[this.selectedCamera];this.streaming=!0,this.capturing=!1,this.captured=!1,this.$refs.frame.setAttribute("src",e.stream_url)}},stopStreaming:function(){this.streaming&&(this.streaming=!1,this.capturing=!1,this.$refs.frame.removeAttribute("src"))},capture:function(){if(!this.capturing){var e=this.cameras[this.selectedCamera];this.streaming=!1,this.capturing=!0,this.captured=!0,this.$refs.frame.setAttribute("src",e.image_url+"?t="+(new Date).getTime())}},onFrameLoaded:function(){this.capturing&&(this.capturing=!1)},onCameraSelected:function(e){this.selectedCamera=e.target.value},flipCamera:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.cameras[e.selectedCamera],e.loading=!0,t.prev=2,r=!a.ffc,t.next=6,e.request("camera.android.ipcam.set_front_facing_camera",{activate:r,camera:a.name});case 6:e.cameras[e.selectedCamera].ffc=r;case 7:return t.prev=7,e.loading=!1,t.finish(7);case 10:case"end":return t.stop()}}),t,null,[[2,,7,10]])})))()},updateCameraStatus:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.request("camera.android.ipcam.status");case 4:a=t.sent,e.cameras=a.reduce((function(t,a){for(var r=0,n=["stream_url","image_url","audio_url"];r<n.length;r++){var c=n[r];a[c].startsWith("https://")&&(a[c]=a[c].replace("https://","http://")),a.name in e.config.cameras&&e.config.cameras[a.name].username&&(a[c]="http://"+e.config.cameras[a.name].username+":"+e.config.cameras[a.name].password+"@"+a[c].substr(7))}return t[a.name]=a,t}),{}),a.length&&(e.selectedCamera=a[0].name);case 7:return t.prev=7,e.loading=!1,t.finish(7);case 10:case"end":return t.stop()}}),t,null,[[1,,7,10]])})))()}},mounted:function(){this.$refs.frame.addEventListener("load",this.onFrameLoaded),this.updateCameraStatus()}};a("3fc7");L.render=$,L.__scopeId="data-v-a0c26180";t["default"]=L},5319:function(e,t,a){"use strict";var r=a("d784"),n=a("d039"),c=a("825a"),i=a("50c4"),s=a("a691"),o=a("1d80"),u=a("8aa5"),l=a("0cb2"),d=a("14c3"),f=a("b622"),b=f("replace"),m=Math.max,p=Math.min,h=function(e){return void 0===e?e:String(e)},g=function(){return"$0"==="a".replace(/./,"$0")}(),v=function(){return!!/./[b]&&""===/./[b]("a","$0")}(),O=!n((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));r("replace",(function(e,t,a){var r=v?"$":"$0";return[function(e,a){var r=o(this),n=void 0==e?void 0:e[b];return void 0!==n?n.call(e,r,a):t.call(String(r),e,a)},function(e,n){if("string"===typeof n&&-1===n.indexOf(r)&&-1===n.indexOf("$<")){var o=a(t,this,e,n);if(o.done)return o.value}var f=c(this),b=String(e),g="function"===typeof n;g||(n=String(n));var v=f.global;if(v){var O=f.unicode;f.lastIndex=0}var j=[];while(1){var y=d(f,b);if(null===y)break;if(j.push(y),!v)break;var C=String(y[0]);""===C&&(f.lastIndex=u(b,i(f.lastIndex),O))}for(var S="",k=0,w=0;w<j.length;w++){y=j[w];for(var x=String(y[0]),$=m(p(s(y.index),b.length),0),_=[],A=1;A<y.length;A++)_.push(h(y[A]));var I=y.groups;if(g){var L=[x].concat(_,$,b);void 0!==I&&L.push(I);var R=String(n.apply(void 0,L))}else R=l(x,b,$,_,I,n);$>=k&&(S+=b.slice(k,$)+R,k=$+x.length)}return S+b.slice(k)}]}),!O||!g||v)},"5a34":function(e,t,a){var r=a("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},ab13:function(e,t,a){var r=a("b622"),n=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[n]=!1,"/./"[e](t)}catch(r){}}return!1}},f43d:function(e,t,a){}}]);
//# sourceMappingURL=chunk-36760726.5007ff45.js.map