{"version":3,"sources":["webpack:///./src/components/widgets/RssNews/Index.vue?8981","webpack:///./src/components/widgets/RssNews/Index.vue","webpack:///./src/components/widgets/RssNews/Index.vue?6001"],"names":["class","currentArticle","feed_title","feed_url","title","Date","published","toDateString","toTimeString","substring","name","mixins","Utils","props","limit","type","Number","required","default","refreshSeconds","data","articles","queue","undefined","methods","refresh","this","length","request","reverse","pop","mounted","setInterval","parseInt","toFixed","render","__scopeId"],"mappings":"2IAAA,W,sICCOA,MAAM,Y,SACJA,MAAM,W,wEADb,eAMM,MANN,EAMM,CALuB,EAAAC,gB,iBAA3B,eAIM,MAJN,EAIM,CAHJ,eAAwF,OAAnFD,MAAM,S,YAAS,eAA6D,EAAvC,eAACE,YAAc,EAAAD,eAAeE,W,wBACxE,eAAuD,OAAlDH,MAAM,Q,YAAQ,eAA6B,EAAP,eAACI,Q,wBAC1C,eAAkK,OAA7JJ,MAAM,Y,YAAY,eAAoI,IAAxHK,KAAK,EAAAJ,eAAeK,WAAWC,eAAY,SAAgBF,KAAK,EAAAJ,eAAeK,WAAWE,eAAeC,UAAS,O,0HAY5I,GACbC,KAAM,UACNC,OAAQ,CAACC,EAAA,MACTC,MAAO,CAELC,MAAO,CACLC,KAAMC,OACNC,UAAU,EACVC,QAAS,IAIXC,eAAgB,CACdJ,KAAMC,OACNC,UAAU,EACVC,QAAS,KAIbE,KAAM,WACJ,MAAO,CACLC,SAAU,GACVC,MAAO,GACPrB,oBAAgBsB,IAIpBC,QAAS,CACPC,QAAS,WAAF,8CAAE,iGACFC,KAAKJ,MAAMK,OADT,gCAEiBD,KAAKE,QAAQ,yBAA0B,CAC3Dd,MAAOY,KAAKZ,QAHT,OAELY,KAAKL,SAFA,OAMLK,KAAKJ,MAAQ,eAAII,KAAKL,UAAUQ,UAN3B,UASFH,KAAKJ,MAAMK,OATT,iDAYPD,KAAKzB,eAAiByB,KAAKJ,MAAMQ,MAZ1B,gDAAF,qDAAE,IAgBXC,QAAS,WACPL,KAAKD,UACLO,YAAYN,KAAKD,QAASQ,UAA8B,IAApBP,KAAKP,gBAAqBe,QAAQ,O,UC1D1E,EAAOC,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"static/js/chunk-55f142bc.f287d0c8.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Index.vue?vue&type=style&index=0&id=24745ce0&lang=scss&scoped=true\"","<template>\n  <div class=\"rss-news\">\n    <div class=\"article\" v-if=\"currentArticle\">\n      <div class=\"source\" v-text=\"currentArticle.feed_title || currentArticle.feed_url\"></div>\n      <div class=\"title\" v-text=\"currentArticle.title\"></div>\n      <div class=\"published\" v-text=\"new Date(currentArticle.published).toDateString() + ', ' + new Date(currentArticle.published).toTimeString().substring(0,5)\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Utils from \"@/Utils\";\n\n/**\n * In order to use this widget you need to configure the `rss` plugin\n * with a list of subscriptions.\n */\nexport default {\n  name: \"RssNews\",\n  mixins: [Utils],\n  props: {\n    // Maximum number of items to be shown in a cycle.\n    limit: {\n      type: Number,\n      required: false,\n      default: 25,\n    },\n\n    // How long an entry should be displayed before moving to the next one.\n    refreshSeconds: {\n      type: Number,\n      required: false,\n      default: 15,\n    },\n  },\n\n  data: function() {\n    return {\n      articles: [],\n      queue: [],\n      currentArticle: undefined,\n    }\n  },\n\n  methods: {\n    refresh: async function() {\n      if (!this.queue.length) {\n        this.articles = await this.request('rss.get_latest_entries', {\n          limit: this.limit\n        })\n\n        this.queue = [...this.articles].reverse()\n      }\n\n      if (!this.queue.length)\n        return\n\n      this.currentArticle = this.queue.pop()\n    },\n  },\n\n  mounted: function() {\n    this.refresh()\n    setInterval(this.refresh, parseInt((this.refreshSeconds*1000).toFixed(0)))\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.rss-news {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  letter-spacing: .025em;\n\n  .article {\n    width: 90%;\n    padding: 0 2em;\n\n    .source {\n      font-size: 1.7em;\n      font-weight: bold;\n      margin-bottom: .5em;\n    }\n\n    .title {\n      font-size: 1.8em;\n      font-weight: normal;\n      margin-bottom: .5em;\n    }\n\n    .published {\n      text-align: right;\n      font-size: 1.1em;\n    }\n  }\n}\n</style>\n","import { render } from \"./Index.vue?vue&type=template&id=24745ce0&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=24745ce0&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-24745ce0\"\n\nexport default script"],"sourceRoot":""}