(this["webpackJsonpmatlab-proxy"]=this["webpackJsonpmatlab-proxy"]||[]).push([[0],{31:function(e,t,n){},32:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(9),c=n.n(r),s=n(2),i=n(8),o=(n(31),n(6)),l=n(64),d=(n(32),n(0));var u=function(e){var t=e.confirm,n=e.cancel,a=e.children;return Object(d.jsx)("div",{className:"modal show",id:"confirmation",tabIndex:"-1",role:"dialog","aria-labelledby":"confirmation-dialog-title",children:Object(d.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsx)("div",{className:"modal-header",children:Object(d.jsx)("h4",{className:"modal-title",id:"confirmation-dialog-title",children:"Confirmation"})}),Object(d.jsx)("div",{className:"modal-body",children:a}),Object(d.jsxs)("div",{className:"modal-footer",children:[Object(d.jsx)("button",{onClick:n,"data-testid":"cancelButton",className:"btn companion_btn btn_color_blue",children:"Cancel"}),Object(d.jsx)("button",{onClick:t,"data-testid":"confirmButton",className:"btn btn_color_blue",children:"Confirm"})]})]})})})},b=n(20),j=n.n(b),m=n(13);n(39);var h=function(e){var t=e.children,n=e.transparent,a=void 0!==n&&n;return Object(d.jsx)("div",{id:"overlay",style:{backgroundColor:a?"transparent":null},children:t})},f=n(5),p=function(e){return e.tutorialHidden},O=function(e){return e.serverStatus.matlabStatus},g=function(e){return e.serverStatus.matlabVersion},v=function(e){return e.serverStatus.wsEnv},x=function(e){return e.serverStatus.isSubmitting},y=function(e){return e.serverStatus.hasFetched},N=function(e){return e.serverStatus.licensingInfo},w=function(e){return e.loadUrl},T=function(e){return e.error},A=Object(f.a)((function(e){return e.triggerPosition}),(function(e){return null===e?void 0:e})),E=Object(f.a)((function(e){return e.envConfig}),(function(e){return null!==e&&e})),_=Object(f.a)(T,(function(e){return null!==e})),S=Object(f.a)((function(e){return e.serverStatus.fetchFailCount}),(function(e){return e>=5})),k=Object(f.a)(O,(function(e){return"up"===e})),M=Object(f.a)(O,(function(e){return"up"===e||"starting"===e})),L=Object(f.a)(O,_,(function(e,t){return"up"===e&&!t})),I=Object(f.a)((function(e){return e.overlayVisibility}),k,_,(function(e,t,n){return!t||e||n})),C=(Object(f.a)((function(e){return e.serverStatus}),(function(e){return e.fetchAbortController})),Object(f.a)(O,x,(function(e,t){return t?null:"up"===e?1e4:5e3}))),B=Object(f.a)(N,(function(e){return Object.prototype.hasOwnProperty.call(e,"type")})),R=Object(f.a)(N,B,(function(e,t){return t&&"MHLM"===e.type})),U=Object(f.a)(N,R,(function(e,t){return t?e.emailAddress:""})),D=Object(f.a)(O,(function(e){return"starting"===e})),P=Object(f.a)(I,_,(function(e,t){return e||t})),H=Object(f.a)(O,_,T,(function(e,t,n){if(t&&408===n.statusCode)return{icon:"warning",alert:"warning",label:"Unknown"};switch(e){case"up":return{label:"Running",icon:"success",alert:"success"};case"starting":return{label:"Starting. This may take several minutes.",icon:"info-reverse",alert:"info",spinner:!0};case"down":var a={label:"Not running",icon:"info-reverse",alert:"info"};return t&&(a.icon="error",a.alert="danger"),a;default:throw new Error('Unknown MATLAB status: "'.concat(e,'".'))}})),V=n(11),F=n(4),G=n.n(F),J=n(7),W="SET_TRIGGER_POSITION",Q="SET_TUTORIAL_HIDDEN",q="SET_OVERLAY_VISIBILITY",X="REQUEST_SERVER_STATUS",Y="RECEIVE_SERVER_STATUS",$="REQUEST_SET_LICENSING",z="REQUEST_TERMINATE_INTEGRATION",K="REQUEST_STOP_MATLAB",Z="REQUEST_START_MATLAB",ee="RECEIVE_SET_LICENSING",te="RECEIVE_TERMINATE_INTEGRATION",ne="RECEIVE_STOP_MATLAB",ae="RECEIVE_START_MATLAB",re="RECEIVE_ERROR",ce="REQUEST_ENV_CONFIG",se="RECEIVE_ENV_CONFIG";function ie(e,t){return{type:W,x:e,y:t}}function oe(e){return{type:q,visibility:e}}function le(e){return function(t,n){return t({type:Y,status:e,previousMatlabPending:D(n())})}}function de(){return{type:$}}function ue(e){return{type:ee,status:e}}function be(e,t){return{type:re,error:e,statusCode:t}}function je(e,t){return me.apply(this,arguments)}function me(){return me=Object(J.a)(G.a.mark((function e(t,n){var a,r,c,s,i,o,l=arguments;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>2&&void 0!==l[2]?l[2]:{},r=l.length>3&&void 0!==l[3]?l[3]:1e4,c=new AbortController,s=setTimeout((function(){return c.abort()}),r),e.prev=4,e.next=7,fetch(n,Object(V.a)(Object(V.a)({},a),{},{signal:c.signal}));case 7:return i=e.sent,clearTimeout(s),e.abrupt("return",i);case 12:e.prev=12,e.t0=e.catch(4),o="Check your internet connection and verify that the server is running.","AbortError"===e.t0.name||"TypeError"===e.t0.name?t(be("HTTP Error 408 - Request Timeout. ".concat(o),408)):t(be("Communication with server failed.",500));case 16:case"end":return e.stop()}}),e,null,[[4,12]])}))),me.apply(this,arguments)}function he(){return function(){var e=Object(J.a)(G.a.mark((function e(t,n){var a,r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:X}),e.next=3,je(t,"./get_status",{},1e4);case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,t(le(r));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function fe(e){return function(){var t=Object(J.a)(G.a.mark((function t(n,a){var r,c,s;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={method:"PUT",mode:"same-origin",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},n(de()),t.next=4,je(n,"./set_licensing_info",r,15e3);case 4:return c=t.sent,t.next=7,c.json();case 7:s=t.sent,n(ue(s));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function pe(){return function(){var e=Object(J.a)(G.a.mark((function e(t,n){var a,r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"DELETE",mode:"same-origin",cache:"no-cache",credentials:"same-origin"},t(de()),e.next=4,je(t,"./set_licensing_info",a,15e3);case 4:return r=e.sent,e.next=7,r.json();case 7:c=e.sent,t(ue(c));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function Oe(){return function(){var e=Object(J.a)(G.a.mark((function e(t,n){var a,r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"DELETE",mode:"same-origin",cache:"no-cache",credentials:"same-origin"},t({type:z}),e.next=4,je(t,"./terminate_integration",a,15e3);case 4:return r=e.sent,e.next=7,r.json();case 7:c=e.sent,t({type:te,status:c,loadUrl:"../"});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function ge(){return function(){var e=Object(J.a)(G.a.mark((function e(t,n){var a,r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"DELETE",mode:"same-origin",cache:"no-cache",credentials:"same-origin"},t({type:K}),e.next=4,je(t,"./stop_matlab",a,15e3);case 4:return r=e.sent,e.next=7,r.json();case 7:c=e.sent,t({type:ne,status:c});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function ve(){return function(){var e=Object(J.a)(G.a.mark((function e(t,n){var a,r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"PUT",mode:"same-origin",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({})},t({type:Z}),e.next=4,je(t,"./start_matlab",a,15e3);case 4:return r=e.sent,e.next=7,r.json();case 7:c=e.sent,t({type:ae,status:c});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}n(41);var xe=function(){var e=Object(s.b)(),t=Object(s.c)(A),n=Object(s.c)(E),r=Object(a.useState)(!1),c=Object(o.a)(r,2),i=c[0],l=c[1],u=Object(a.useRef)(),b=""===n.extension_name?"MATLAB Web Desktop":"".concat(n.extension_name_short_description," - MATLAB Integration");Object(a.useEffect)((function(){var t=new IntersectionObserver((function(t){Object(o.a)(t,1)[0].isIntersecting||e(ie(window.innerWidth/2+27,0))}));return t.observe(u.current),function(){t.disconnect()}}),[e]);var f=Object(s.c)(P),O=Object(a.useCallback)((function(){return e(oe(!f))}),[f,e]),g=Object(s.c)(p),v=Object(s.c)(H),x=Object(a.useCallback)((function(t,n){l(!0),e(ie(n.x,n.y))}),[e,l]),y=Object(a.useCallback)((function(t,n){l(!1),e(ie(n.x,n.y))}),[e,l]),N=i?Object(d.jsx)(h,{transparent:!0}):null,w=g?null:Object(d.jsxs)("div",{id:"trigger-tutorial",className:"trigger-tutorial modal-content",children:[Object(d.jsxs)("p",{children:["To control the MATLAB session (for example to restart or sign out), click the ",Object(d.jsx)("span",{className:"icon-custom-trigger icon trigger-tutorial-icon",title:"tools icon"})," icon."]}),Object(d.jsx)("p",{children:"The color of the badge shows the MATLAB status."}),Object(d.jsxs)("p",{children:["To position this widget anywhere on screen, click and drag the ",Object(d.jsx)("span",{className:"drag-handle icon",title:"grab handle icon"})," icon."]}),Object(d.jsx)("button",{className:"btn btn_color_blue pull-right","data-testid":"tutorialCloseBtn",onClick:function(){e({type:Q,hidden:!0})},children:"Close"})]}),T=g?Object(d.jsx)(m.a,{id:"trigger-button-tooltip",place:"bottom",type:"info",effect:"solid"}):null;return Object(d.jsxs)(d.Fragment,{children:[N,Object(d.jsx)(j.a,{position:t,onDrag:x,onStop:y,handle:".card-body",bounds:"parent",children:Object(d.jsxs)("div",{ref:u,className:"card alert-".concat(v.alert),"data-testid":"overlayTrigger",children:[Object(d.jsxs)("div",{className:"card-body","data-testid":"cardBody",children:[Object(d.jsx)("span",{id:"drag-handle",className:"drag-handle"}),Object(d.jsx)("button",{type:"button",className:"trigger-btn",onClick:O,onMouseDown:function(e){return e.stopPropagation()},"aria-label":"Menu","data-for":"trigger-button-tooltip","data-tip":"Open the ".concat(b," settings"),children:Object(d.jsx)("span",{className:"icon-custom-trigger"})})]}),w]})}),T]})};n(42);var ye=function(e){var t=e.url;return Object(d.jsx)("div",{id:"MatlabJsd",children:Object(d.jsx)("iframe",{title:"MATLAB JSD",src:t,frameBorder:"0",allowFullScreen:!0})})};var Ne=function(){var e=Object(s.b)(),t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],c=n[1],i=Object(s.c)(U),l=Object(s.c)(v),u=Object(a.useMemo)((function(){var e="login";return l.includes("integ")&&(e="".concat(e,"-").concat(l)),"https://".concat(e,".mathworks.com")}),[l]),b=Object(a.useState)(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15))[0];Object(a.useEffect)((function(){var t=function(t){if(t.origin===u){var n=JSON.parse(t.data);"nonce"===n.event?function(e,t,n){var a={event:"load",clientTransactionId:e,transactionId:t,release:"",platform:"web",clientString:"desktop-jupyter",clientId:"",sourceId:n,profileTier:"MINIMUM",showCreateAccount:!1,showRememberMe:!1,showLicenseField:!1,entitlementId:"",showPrivacyPolicy:!0,contextualText:"",legalText:"",cachedIdentifier:"",cachedRememberMe:"",token:"",unauthorized:!1};document.getElementById("loginframe").contentWindow.postMessage(JSON.stringify(a),"*")}(n.clientTransactionId,n.transactionId,b):"login"===n.event&&e(fe({type:"MHLM",token:n.token,profileId:n.profileId,emailAddress:n.emailAddress,sourceId:b}))}};return window.addEventListener("message",t),function(){window.removeEventListener("message",t)}}),[e,b,u]),Object(a.useEffect)((function(){!0===r&&function(e){var t={event:"init",clientTransactionId:(Math.random()+"").substr(2),transactionId:"",release:"",platform:"",clientString:"desktop-jupyter",clientID:"",locale:"",profileTier:"",showCreateAccount:!1,showRememberMe:!1,showLicenseField:!1,licenseNo:"",cachedUsername:e,cachedRememberMe:!1};document.getElementById("loginframe").contentWindow.postMessage(JSON.stringify(t),"*")}(i)}),[r,i]);var j="".concat(u,"/embedded-login/v2/login.html");return Object(d.jsx)("div",{id:"MHLM",children:Object(d.jsx)("iframe",{id:"loginframe",title:"MathWorks Embedded Login",type:"text/html",height:"380",width:"100%",frameBorder:"0",src:j,onLoad:function(){return c(!0)},children:"Sorry your browser does not support inline frames."})})},we=/^[\d]+@[\w|\-|_|.]+$|^[\d]+@[\w|\-|_|.]+,[\d]+@[\w|\-|_|.]+,[\d]+@[\w|\-|_|.]+$/;var Te=function(){var e,t=Object(s.b)(),n=Object(a.useState)(""),r=Object(o.a)(n,2),c=r[0],i=r[1],l=Object(a.useState)(!1),u=Object(o.a)(l,2),b=u[0],j=u[1],m=(e=c,we.test(e));return Object(d.jsx)("div",{id:"NLM",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(fe({type:"NLM",connectionString:c}))},children:[Object(d.jsxs)("div",{className:"form-group has-feedback ".concat(b?m?"has-success":"has-error":""),children:[Object(d.jsx)("label",{htmlFor:"nlm-connection-string",children:"License Server Address"}),Object(d.jsx)("input",{id:"nlm-connection-string",type:"text",required:!0,placeholder:"port@hostname",className:"form-control","aria-invalid":!m,value:c,onChange:function(e){j(!0),i(e.target.value)}}),Object(d.jsx)("span",{className:"glyphicon form-control-feedback glyphicon-remove"}),Object(d.jsx)("span",{className:"glyphicon form-control-feedback glyphicon-ok"})]}),Object(d.jsx)("input",{type:"submit",value:"Submit",className:"btn btn_color_blue",disabled:!m})]})})};n(43);var Ae=function(){var e=Object(a.useState)("mhlm"),t=Object(o.a)(e,2),n=t[0],r=t[1],c="mhlm"===n?"active":"",s="mhlm"===n?"true":"false",i="nlm"===n?"active":"",l="nlm"===n?"true":"false";return Object(d.jsx)("div",{className:"modal show",id:"setup-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"setup-dialog-title",children:Object(d.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(d.jsx)("div",{className:"modal-content",children:Object(d.jsx)("div",{className:"modal-body",children:Object(d.jsxs)("div",{className:"tab-container",children:[Object(d.jsxs)("ul",{id:"setup-tabs",className:"nav nav-tabs",role:"tablist",children:[Object(d.jsx)("li",{role:"presentation",className:c,children:Object(d.jsx)("a",{href:"#mhlm",id:"mhlm-tab",onClick:function(e){e.preventDefault(),r("mhlm")},role:"tab","aria-controls":"mhlm","aria-expanded":s,children:"Online License Manager"})}),Object(d.jsx)("li",{role:"presentation",className:i,children:Object(d.jsx)("a",{href:"#nlm",id:"nlm-tab",onClick:function(e){e.preventDefault(),r("nlm")},role:"tab","aria-controls":"nlm","aria-expanded":l,children:"Network License Manager"})})]}),Object(d.jsxs)("div",{id:"setup-tabs-content",className:"tab-content",children:[Object(d.jsx)("div",{role:"tabpanel",className:"tab-pane ".concat(c),id:"mhlm","aria-labelledby":"mhlm-tab",children:Object(d.jsx)(Ne,{})}),Object(d.jsx)("div",{role:"tabpanel",className:"tab-pane ".concat(i),id:"nlm","aria-labelledby":"nlm-tab",children:Object(d.jsx)(Te,{})}),Object(d.jsx)("div",{children:Object(d.jsxs)("p",{id:"LicensingGathererNote",children:["For more details, see\xa0",Object(d.jsx)("a",{href:"https://github.com/mathworks/jupyter-matlab-proxy/blob/main/MATLAB-Licensing-Info.md",target:"_blank",rel:"noopener noreferrer",children:"MATLAB Licensing information"})]})})]})]})})})})})},Ee=(n(44),{"sign-out":["NetworkLicensingError","EntitlementError"],restart:["OnlineLicensingError"]});var _e=function(e){var t=e.callback,n=Object(s.c)(x),r=Object(s.c)(B),c=Object(s.c)(R),i=Object(s.c)(M),o=Object(s.c)(g),l=Object(s.c)(T),u=r&&!n,b=Object(a.useMemo)((function(){return"%0D%0A\nThank you for providing feedback.%0D%0A\n%0D%0A\nMATLAB version: ".concat(o,"%0D%0A")}),[o]),j={START:{type:"confirmation",message:"Are you sure you want to ".concat(i?"re":"","start MATLAB?"),callback:ve},STOP:{type:"confirmation",message:"Are you sure you want to stop MATLAB?",callback:ge},TERMINATE:{type:"confirmation",message:"Are you sure you want to terminate MATLAB and this Jupyter integration?",callback:Oe},SIGN_OUT:{type:"confirmation",message:"Are you sure you want to ".concat(c?"sign out of MATLAB":"unset the connection string","?"),callback:pe},HELP:{type:"help"}};function h(e){var t="btn companion_btn ";if(l){if((Ee[e]||[]).includes(l.type))return t+"btn_color_blue"}else if("start"===e)return t+"btn_color_blue";return t+"btn_color_mediumgray"}return Object(d.jsxs)("div",{id:"controls",className:"labels-on-top",children:[Object(d.jsxs)("button",{id:"startMatlab","data-testid":"startMatlabBtn",className:h(i?"restart":"start"),onClick:function(){return t(j.START)},disabled:!r,"data-for":"control-button-tooltip","data-tip":"".concat(i?"Restart":"Start","  your MATLAB session"),children:[Object(d.jsx)("span",{className:"icon-custom-".concat(i?"re":"","start")}),Object(d.jsx)("span",{className:"btn-label",children:"".concat(i?"Restart":"Start"," MATLAB Session")})]}),Object(d.jsxs)("button",{id:"stopMatlab","data-testid":"stopMatlabBtn",className:h("stop"),onClick:function(){return t(j.STOP)},disabled:!i,"data-for":"control-button-tooltip","data-tip":"Stop your MATLAB session",children:[Object(d.jsx)("span",{className:"icon-custom-stop"}),Object(d.jsx)("span",{className:"btn-label",children:"Stop MATLAB Session"})]}),Object(d.jsxs)("button",{id:"unsetLicensing","data-testid":"unsetLicensingBtn",className:h("sign-out"),onClick:function(){return t(j.SIGN_OUT)},disabled:!u,"data-for":"control-button-tooltip","data-tip":c?"Sign out":"Unset the network license manager server address",children:[Object(d.jsx)("span",{className:"icon-custom-sign-out"}),Object(d.jsx)("span",{className:"btn-label",children:c?"Sign Out":"Unset License Server Address"})]}),Object(d.jsxs)("a",{id:"feedback","data-testid":"feedbackLink",className:"btn btn_color_mediumgray companion_btn",href:"mailto:jupyter-support@mathworks.com?subject=MATLAB Integration for Jupyter Feedback&body=".concat(b),"data-for":"control-button-tooltip","data-tip":"Send feedback (opens your default email application)",children:[Object(d.jsx)("span",{className:"icon-custom-feedback"}),Object(d.jsx)("span",{className:"btn-label",children:"Feedback"})]}),Object(d.jsxs)("button",{id:"Help","data-testid":"helpBtn",className:"btn btn_color_mediumgray companion_btn",onClick:function(){return t(j.HELP)},"data-for":"control-button-tooltip","data-tip":"See a description of the buttons",children:[Object(d.jsx)("span",{className:"icon-custom-help"}),Object(d.jsx)("span",{className:"btn-label",children:"Help"})]}),Object(d.jsx)(m.a,{id:"control-button-tooltip",place:"top",type:"info",effect:"solid"})]})},Se=n(10),ke=n.n(Se);n(57);var Me=function(e){var t,n=e.closeHandler,r=e.children,c=Object(s.c)(N),i=Object(s.c)(T),l=Object(s.c)(L),u=Object(a.useState)(!1),b=Object(o.a)(u,2),j=b[0],m=b[1];switch(null===c||void 0===c?void 0:c.type){case"MHLM":t={label:"Online License Manager (".concat(c.emailAddress,")")};break;case"NLM":t={label:"Network License Manager (".concat(c.connectionString,")")};break;default:t={label:"None"}}var h=Object(s.c)(H),f=i?Object(d.jsxs)("div",{className:"error-container alert alert-danger",children:[Object(d.jsx)("p",{children:Object(d.jsx)("strong",{children:"Error"})}),Object(d.jsx)(ke.a,{children:Object(d.jsx)("div",{className:"error-text",children:i.message})})]}):null,p=i&&null!==i.logs&&i.logs.length>0?Object(d.jsxs)("div",{className:"expand_collapse error-logs-container",children:[Object(d.jsxs)("h4",{className:"expand_trigger ".concat(j?"expanded":"collapsed"),onClick:function(){m(!j)},children:[Object(d.jsx)("span",{className:"icon-arrow-open-down"}),Object(d.jsx)("span",{className:"icon-arrow-open-right"}),"Error logs"]}),Object(d.jsx)("div",{id:"error-logs",className:"expand_target error-container alert alert-danger ".concat(j?"expanded":"collapsed"),"aria-expanded":j,children:Object(d.jsx)(ke.a,{children:Object(d.jsx)("div",{className:"error-msg",children:i.logs.join("\n").trim()})})})]}):null;return Object(d.jsx)("div",{className:"modal show",id:"information",onClick:l?function(e){e.target===e.currentTarget&&(e.preventDefault(),n())}:null,tabIndex:"-1",role:"dialog","aria-labelledby":"information-dialog-title",children:Object(d.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(d.jsxs)("div",{className:"modal-content alert alert-".concat(h.alert),children:[Object(d.jsxs)("div",{className:"modal-header",children:[l&&Object(d.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:n,children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(d.jsx)("span",{className:"alert_icon icon-alert-".concat(h.icon)}),Object(d.jsx)("h4",{className:"modal-title alert_heading",id:"information-dialog-title",children:"Status Information"})]}),Object(d.jsxs)("div",{className:"modal-body",children:[Object(d.jsx)("table",{className:"details",children:Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"MATLAB Status:"}),Object(d.jsxs)("td",{children:[Object(d.jsx)("span",{id:"spinner",className:h.spinner?"show":"hidden"}),h.label]})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Licensing:"}),Object(d.jsx)("td",{children:t.label})]})]})}),f,p]}),Object(d.jsx)("div",{className:"modal-footer",children:r})]})})})};n(58);var Le=function(e){var t=e.closeHandler,n=e.dismissAllHandler,a=Object(s.c)(L),r=Object(s.c)(E),c=r.doc_url,i=""===r.extension_name?"MATLAB Web Desktop":"MATLAB Integration for ".concat(r.extension_name_short_description);return Object(d.jsx)("div",{className:"modal show",id:"help",onClick:a?function(e){e.target===e.currentTarget&&(e.preventDefault(),n())}:null,tabIndex:"-1",role:"dialog","aria-labelledby":"help-dialog-title",children:Object(d.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsx)("div",{className:"modal-header",children:Object(d.jsx)("h4",{className:"modal-title",id:"confirmation-dialog-title",children:"Help"})}),Object(d.jsxs)("div",{className:"modal-body help",children:[Object(d.jsxs)("p",{children:["The status panel shows you options to manage the ",Object(d.jsx)("a",{href:c,target:"_blank",rel:"noopener noreferrer",children:i}),"."]}),Object(d.jsx)("p",{children:"Use the buttons in the status panel to:"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:"icon-custom-start",children:"Start your MATLAB session. Available if MATLAB is stopped."}),Object(d.jsx)("p",{className:"icon-custom-restart",children:"Restart your MATLAB session. Available if MATLAB is running or starting."}),Object(d.jsx)("p",{className:"icon-custom-stop",children:"Stop your MATLAB session. Use this option if you want to free up RAM and CPU resources. Available if MATLAB is running or starting."}),Object(d.jsxs)("p",{className:"icon-custom-sign-out",children:["Sign out of MATLAB. Use this to stop MATLAB and to sign in with an alternative account. Available if using online licensing.",Object(d.jsx)("br",{}),"Unset network license manager server address. Use this to stop MATLAB and enter new licensing information. Available if using network license manager."]}),Object(d.jsx)("p",{className:"icon-custom-feedback",children:"Send feedback about the ".concat(i,". This action opens your default email application.")})]})]}),Object(d.jsx)("div",{className:"modal-footer",children:Object(d.jsx)("button",{onClick:t,"data-testid":"backBtn",className:"btn btn_color_blue",children:"Back"})})]})})})};n(59);var Ie=function(e){var t=e.message,n=e.logs,a=e.children,r=n?Object(d.jsx)("p",{className:"error-msg",children:n}):null;return Object(d.jsx)("div",{className:"modal show",id:"error",tabIndex:"-1",role:"dialog","aria-labelledby":"help-dialog-title",children:Object(d.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(d.jsxs)("div",{className:"modal-content alert alert-danger",children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsx)("span",{className:"alert_icon icon-alert-error"}),Object(d.jsx)("h4",{className:"modal-title alert_heading",children:"Error"})]}),Object(d.jsxs)("div",{className:"modal-body",children:[Object(d.jsx)("p",{children:t}),Object(d.jsx)(ke.a,{children:r}),a]})]})})})};var Ce=function(){var e,t,n=Object(s.b)(),r=Object(s.c)(P),c=Object(s.c)(C),i=Object(s.c)(y),b=Object(s.c)(E),j=Object(s.c)(B),m=Object(s.c)(k),f=Object(s.c)(T),p=Object(s.c)(w),O=Object(s.c)(S),g=Object(a.useCallback)((function(){return n(oe(!r))}),[r,n]),v=Object(a.useState)(null),x=Object(o.a)(v,2),N=x[0],A=x[1];if(N){var _=function(){return A(null)};switch(N.type){case"confirmation":e=Object(d.jsx)(u,{confirm:function(){n(N.callback()),A(null)},cancel:_,children:N.message||""});break;case"help":e=Object(d.jsx)(Le,{closeHandler:_,dismissAllHandler:function(){_(),g(!1)}});break;default:throw new Ie("Unknown dialog type: ".concat(N.type,"."))}}O?e=Object(d.jsx)(Ie,{message:"Either this integration terminated or the session ended",children:Object(d.jsxs)("p",{children:["Attempt to ",Object(d.jsx)("a",{href:"../",children:"return to a parent app"})]})}):f&&"MatlabInstallError"===f.type&&(e=Object(d.jsx)(Ie,{message:f.message})),Object(a.useEffect)((function(){b||n(function(){var e=Object(J.a)(G.a.mark((function e(t,n){var a,r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:ce}),e.next=3,je(t,"./get_env_config",{},1e4);case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,t({type:se,config:r});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[n,b]),Object(a.useEffect)((function(){i||n(he())}),[n,i]),Object(l.a)((function(){n(he())}),c),Object(a.useEffect)((function(){null!==p&&(window.location.href=p)}),[p]),e?t=e:i&&!j?t=Object(d.jsx)(Ae,{}):j&&!e&&(t=Object(d.jsx)(Me,{closeHandler:g,children:Object(d.jsx)(_e,{callback:function(e){return A(e)}})}));var M=r?Object(d.jsx)(h,{children:t}):null,L=m?Object(d.jsx)(ye,{url:"./index-jsd-cr.html"}):null,I=r?null:Object(d.jsx)(xe,{});return Object(d.jsxs)("div",{"data-testid":"app",className:"main",children:[I,L,M]})};var Be=Object(i.b)({licensingInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:case ee:case te:case ne:case ae:return Object(V.a)({},t.status.licensing);default:return e}},matlabStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"down",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:case ee:case te:case ne:case ae:return t.status.matlab.status;default:return e}},matlabVersion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:case ee:case te:case ne:case ae:return t.status.matlab.version;default:return e}},wsEnv:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:case ee:case te:case ne:case ae:return t.status.wsEnv;default:return e}},isFetching:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:case $:case z:case K:case Z:case ce:return!0;case Y:case ee:case te:case ne:case ae:case re:case se:return!1;default:return e}},hasFetched:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:case ee:case te:case ne:case ae:return!0;default:return e}},isSubmitting:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:case z:case K:case Z:return!0;case ee:case te:case ne:case ae:case re:return!1;default:return e}},fetchFailCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:case ee:case te:case ne:case ae:return 0;case re:return e+1;default:return e}}}),Re=Object(i.b)({triggerPosition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:window.innerWidth/2+27,y:0},t=arguments.length>1?arguments[1]:void 0;return t.type===W?{x:t.x,y:t.y}:e},tutorialHidden:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===Q?t.hidden:e},overlayVisibility:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return t.visibility;case Y:if(!0===t.previousMatlabPending&&"up"===t.status.matlab.status)return!1;default:return e}},serverStatus:Be,loadUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===te?t.loadUrl:e},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return{message:t.error,statusCode:null===t||void 0===t?void 0:t.statusCode,logs:null};case Y:case ee:case te:case ne:case ae:return t.status.error?{message:t.status.error.message,logs:t.status.error.logs,type:t.status.error.type}:null;default:return e}},envConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===se?t.config:e}}),Ue=n(21),De="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.c,Pe=Object(i.d)(Re,De(Object(i.a)(Ue.a)));c.a.render(Object(d.jsx)(s.a,{store:Pe,children:Object(d.jsx)(Ce,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.5413664e.chunk.js.map