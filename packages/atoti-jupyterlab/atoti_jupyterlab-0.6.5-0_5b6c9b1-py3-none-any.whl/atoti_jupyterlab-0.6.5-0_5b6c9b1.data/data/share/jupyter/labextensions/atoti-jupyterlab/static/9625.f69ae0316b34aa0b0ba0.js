"use strict";(self.webpackChunkatoti_jupyterlab=self.webpackChunkatoti_jupyterlab||[]).push([[9625],{99625:(e,a,t)=>{t.r(a),t.d(a,{default:()=>v});var r=t(39030),o=t(56271),n=t.n(o),l=t(53521),i=t(7560),s=t(6335),c=t.n(s),u=t(32864),p=t.n(u),m=t(2689),d=t.n(m),y=t(76156),h=t.n(y),b=t(95479),x=t(13423);function g({data:e,cube:a,metaData:t,widgetState:{mapping:r}}){if(!a||!e||!t)return[];const o=t.orderedAxis,n={},i={mapping:{},numberOfUsedAutomaticColors:0};(0,b.IG)(e,t.hierarchyIndicesInCellSet,(({cell:e,cellIndex:a,columnIndex:s,tuple:c,rowIndex:u})=>{if(c){const p=(0,l._F)(c,{levelIndices:t.levelIndicesPerField,mapping:r,attributesRedirection:t.attributesRedirection}),m=(e=>{const a=0===e.lineValues.length?"column":"line",s=(0,l.Lj)([..."column"===a?e.columnValues:e.lineValues,...e.horizontalSubplots,...e.verticalSubplots]);if(!n[s]){var c;const u=((e,{traceType:a,membersPerAttribute:n,yAxisName:s})=>{const c=(0,l.Ym)("column"===a?n.columnValues:n.lineValues,r.lineValues.length+r.columnValues.length),u=(0,l.he)({accumulator:i,colorway:t.colorway,traceName:c}),p={_key:e,hoverinfo:"none",legendgroup:c,name:c,cellsIndices:h()(new Array(o.captions.length),null),yaxis:s,x:o.captions,y:o.captions.map((()=>null)),opacity:1,text:o.captions.map((()=>""))};return"column"===a?(p.type="bar",p.marker={color:u},p.textposition="auto"):"line"===a&&(p.line={shape:"linear",color:u},p.mode="text+lines+markers",p.textposition="bottom center"),p})(s,{traceType:a,membersPerAttribute:e,yAxisName:(null===(c=e.lineValues)||void 0===c?void 0:c.length)>0?"y2":"y1"});n[s]=u}return n[s]})(p),d=p.xAxis,y=(0,l.bC)(d),b=o.members[y],x=r.lineValues.length+r.columnValues.length>0;null!==e&&null!==a&&(x&&(m.y[b]=e.value),m.cellsIndices[b]=[{rowIndex:u,columnIndex:s,cellIndex:a}]),m.x[b]=o.captions[b]}}));const s=Object.values(n);s.forEach((e=>{var a;e.axisIndices=d()(null===(a=e.x)||void 0===a?void 0:a.length)}));const c=t.subplots,u=(0,l.$)({traces:s,subplotsMetaData:c});return(0,l.Mr)(u,c),(0,l.Yw)(u),u}c().register(p());const v=(0,l.dC)((0,l.i)((0,l.H9)((0,o.memo)((e=>{const{cube:a,data:t,metaData:s,widgetState:c,onLoaded:u}=e,p=(0,o.useMemo)((()=>(0,r.TS)(null==c?void 0:c.mapping)),[null==c?void 0:c.mapping]);(0,l.ge)({isEmpty:p,onLoaded:u});const m=(0,o.useMemo)((()=>g({cube:a,data:t,metaData:s,widgetState:c})),[a,t,s,c]),d=(0,o.useMemo)((()=>(e=>e?(0,x.IM)({barmode:"relative",xaxis:{gridcolor:"transparent"}},(0,l.S5)(e.subplots),(0,l.lH)(e.subplots),(0,l.Gx)(e,"xaxis"),(0,l.M_)(e)):{})(s)),[s]);return n().createElement(l.XN,(0,i.Z)({},e,{traces:m,layout:d,cube:a,data:t,metaData:s}))})))))},32864:(e,a,t)=>{e.exports=t(16539)},87048:(e,a,t)=>{var r=t(95754);e.exports=function(e,a){for(var t=0;t<e.length;t++)e[t].i=t;r.mergeArray(a.text,e,"tx"),r.mergeArray(a.hovertext,e,"htx");var o=a.marker;if(o){r.mergeArray(o.opacity,e,"mo",!0),r.mergeArray(o.color,e,"mc");var n=o.line;n&&(r.mergeArray(n.color,e,"mlc"),r.mergeArrayCastPositive(n.width,e,"mlw"))}}},7795:(e,a,t)=>{var r=t(39393),o=t(64913),n=t(91083).hasColorscale,l=t(39174),i=t(87048),s=t(8306);e.exports=function(e,a){var t,c,u,p,m=r.getFromId(e,a.xaxis||"x"),d=r.getFromId(e,a.yaxis||"y"),y={msUTC:!(!a.base&&0!==a.base)};"h"===a.orientation?(t=m.makeCalcdata(a,"x",y),u=d.makeCalcdata(a,"y"),c=o(a,d,"y",u),p=!!a.yperiodalignment):(t=d.makeCalcdata(a,"y",y),u=m.makeCalcdata(a,"x"),c=o(a,m,"x",u),p=!!a.xperiodalignment);for(var h=Math.min(c.length,t.length),b=new Array(h),x=0;x<h;x++)b[x]={p:c[x],s:t[x]},p&&(b[x].orig_p=u[x]),a.ids&&(b[x].id=String(a.ids[x]));return n(a,"marker")&&l(e,a,{vals:a.marker.color,containerStr:"marker",cLetter:"c"}),n(a,"marker.line")&&l(e,a,{vals:a.marker.line.color,containerStr:"marker.line",cLetter:"c"}),i(b,a),s(b,a),b}},31089:e=>{e.exports=function(e,a,t){return e.x="xVal"in a?a.xVal:a.x,e.y="yVal"in a?a.yVal:a.y,a.xa&&(e.xaxis=a.xa),a.ya&&(e.yaxis=a.ya),"h"===t.orientation?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},16539:(e,a,t)=>{e.exports={attributes:t(94623),layoutAttributes:t(22342),supplyDefaults:t(90285).supplyDefaults,crossTraceDefaults:t(90285).crossTraceDefaults,supplyLayoutDefaults:t(45799),calc:t(7795),crossTraceCalc:t(50332).crossTraceCalc,colorbar:t(49463),arraysToCalcdata:t(87048),plot:t(7361).plot,style:t(79438).style,styleOnSelect:t(79438).styleOnSelect,hoverPoints:t(3424).hoverPoints,eventData:t(31089),selectPoints:t(57008),moduleType:"trace",name:"bar",basePlotModule:t(51594),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{description:["The data visualized by the span of the bars is set in `y`","if `orientation` is set th *v* (the default)","and the labels are set in `x`.","By setting `orientation` to *h*, the roles are interchanged."].join(" ")}}},22342:e=>{e.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",role:"info",editType:"calc",description:["Determines how bars at the same location coordinate","are displayed on the graph.","With *stack*, the bars are stacked on top of one another","With *relative*, the bars are stacked on top of one another,","with negative values below the axis, positive values above","With *group*, the bars are plotted next to one another","centered around the shared location.","With *overlay*, the bars are plotted over one another,","you might need to an *opacity* to see multiple bars."].join(" ")},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",role:"info",editType:"calc",description:["Sets the normalization for bar traces on the graph.","With *fraction*, the value of each bar is divided by the sum of all","values at that location coordinate.","*percent* is the same but multiplied by 100 to show percentages."].join(" ")},bargap:{valType:"number",min:0,max:1,role:"style",editType:"calc",description:["Sets the gap (in plot fraction) between bars of","adjacent location coordinates."].join(" ")},bargroupgap:{valType:"number",min:0,max:1,dflt:0,role:"style",editType:"calc",description:["Sets the gap (in plot fraction) between bars of","the same location coordinate."].join(" ")}}},45799:(e,a,t)=>{var r=t(97966),o=t(39393),n=t(95754),l=t(22342);e.exports=function(e,a,t){function i(t,r){return n.coerce(e,a,l,t,r)}for(var s=!1,c=!1,u=!1,p={},m=i("barmode"),d=0;d<t.length;d++){var y=t[d];if(r.traceIs(y,"bar")&&y.visible){if(s=!0,"group"===m){var h=y.xaxis+y.yaxis;p[h]&&(u=!0),p[h]=!0}y.visible&&"histogram"===y.type&&"category"!==o.getFromId({_fullLayout:a},y["v"===y.orientation?"xaxis":"yaxis"]).type&&(c=!0)}}s?("overlay"!==m&&i("barnorm"),i("bargap",c&&!u?0:.2),i("bargroupgap")):delete a.barmode}}}]);